(()=>{"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(e,o){for(var r=0;r<o.length;r++){var n=o[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,i=function(e,o){if("object"!==t(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==t(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===t(i)?i:String(i)),n)}var i}var o=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.element=e,this.defaults={transitionDuration:100,containerSelector:".slider__container",itemSelector:".slider__item-el",slidesAmountVar:"--slides",currentSlideVar:"--current"}}var o,r;return o=t,(r=[{key:"getSlides",value:function(){return parseInt(this.element.style.getPropertyValue(this.defaults.slidesAmountVar))}},{key:"getCurrentRoot",value:function(){return parseInt(this.element.style.getPropertyValue(this.defaults.currentSlideVar))}},{key:"setCurrent",value:function(t){this.container=this.element.querySelector(this.defaults.containerSelector),this.container.style.setProperty(this.defaults.slidesAmountVar,this.getSlides()),this.container.style.setProperty(this.defaults.currentSlideVar,t)}},{key:"reset",value:function(){var t=this;this.timeOut=setTimeout((function(){t.element.style.setProperty(t.defaults.currentSlideVar,1)}),300)}},{key:"timer",value:function(){var t=this;this.timeInterval=setInterval((function(){var e=t.getCurrentRoot();e<8?t.element.style.setProperty(t.defaults.currentSlideVar,e+1):t.reset(e),t.setCurrent(e)}),1e3)}}])&&e(o.prototype,r),Object.defineProperty(o,"prototype",{writable:!1}),t}();function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function n(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,i=function(t,e){if("object"!==r(t)||null===t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var n=o.call(t,"string");if("object"!==r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===r(i)?i:String(i)),n)}var i}var i=function(){function t(e,o){var r=o.selectorListButton,n=o.selectorNav,i=o.classListOpen,s=o.classNavOpen,l=o.classNavClose;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.elemListButton=e.querySelector(r),this.elemNav=e.querySelector(n),this.classListOpen=i,this.classNavOpen=s,this.classNavClose=l,this.flgOpen=!1}var e,o;return e=t,(o=[{key:"_open",value:function(){this.elemListButton.classList.add(this.classListOpen),this.elemNav.classList.add(this.classNavOpen),this.elemNav.classList.remove(this.classNavClose)}},{key:"_close",value:function(){this.elemListButton.classList.remove(this.classListOpen),this.elemNav.classList.remove(this.classNavOpen),this.elemNav.classList.add(this.classNavClose)}},{key:"eventListener",value:function(){var t=this;this.elemListButton.addEventListener("click",(function(){t.flgOpen?t._close():t._open(),t.flgOpen=!t.flgOpen}))}}])&&n(e.prototype,o),Object.defineProperty(e,"prototype",{writable:!1}),t}(),s={selectorListButton:".header__list-btn",selectorNav:".header__nav",classListOpen:"header__list-btn_open",classNavOpen:"header__nav_open",classNavClose:"header__nav_close"},l=document.querySelectorAll(".list-drop-down__item"),c=document.querySelector(".slider"),a={dropDownButton:".list-drop-down__btn",dropDownButtonState:"list-drop-down__btn_clicked",listItemState:"list-drop-down__item_clicked",answerItem:".list-drop-down__answer"},u=[{answer:"Время доставки вашего груза зависит от расстояния между пунктами\n  отправления и назначения. Наши грузовые автомобили проезжают в\n  среднем 600-800 км в сутки. Это означает, что если расстояние\n  между пунктами составляет 1200 км, то доставка может занять от 1\n  до 2 дней в зависимости от дорожных условий. Если же расстояние\n  меньше, то доставка займет меньше времени.",id:"logistic-time"}],f=document.querySelector(".form"),h=document.querySelector(".form__button"),p=document.querySelector(".popup"),m=document.querySelector(".popup__close"),y=document.querySelector(".form__checkbox-control"),b=Array.from(document.querySelectorAll(".input__field")),d=document.querySelector("#summary"),_=document.querySelector("#list-drop-down__answer").content;function v(t){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v(t)}function S(t,e){for(var o=0;o<e.length;o++){var r=e[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,n=function(t,e){if("object"!==v(t)||null===t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var r=o.call(t,"string");if("object"!==v(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===v(n)?n:String(n)),r)}var n}var k=function(){function t(e){var o=e.obj,r=e.formElement;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._obj=o,this._formElement=r,this._submitButton=r.querySelector(this._obj.submitButtonSelector),this._inputList=Array.from(r.querySelectorAll(this._obj.inputSelector)),this._checkbox=r.querySelector(this._obj.checkboxSelector),this._checkboxLabel=r.querySelector(this._obj.checkboxLabelSelector),this._checkboxError=r.querySelector(this._obj.checkboxErrorSelector),this._checkboxContainer=r.querySelector(this._obj.checkboxContainerSelector)}var e,o;return e=t,(o=[{key:"enableValidation",value:function(){var t=this;console.log(this._submitButton),this._submitButton.addEventListener("click",(function(e){t._handleSubmit()})),this._setAfterSubmitListeners()}},{key:"_setAfterSubmitListeners",value:function(){var t=this;this._inputList.forEach((function(e){e!==d&&e.addEventListener("input",(function(){t._handleSubmit(),t._toggleButtonState()}))}))}},{key:"_handleSubmit",value:function(){var t=this;this._inputList.forEach((function(e){e!==d&&(t._checkInputValidity(e),t._toggleButtonState())}))}},{key:"_toggleButtonState",value:function(){this._hasInvalidInput(this._inputList)?this._disableButton(this._submitButton):this._enableButton(this._submitButton)}},{key:"_disableButton",value:function(){this._submitButton.setAttribute("disabled","disabled"),this._submitButton.classList.add(this._obj.inactiveButtonClass)}},{key:"_enableButton",value:function(){this._submitButton.removeAttribute("disabled"),this._submitButton.classList.remove(this._obj.inactiveButtonClass)}},{key:"_hasInvalidInput",value:function(){return this._inputList.some((function(t){return!t.validity.valid}))}},{key:"_checkInputValidity",value:function(t){t.validity.valid||this._checkbox.checked?this._hideInputError(t):this._showInputError(t,t.dataset.errorMessage)}},{key:"_showInputError",value:function(t,e){var o=this._formElement.querySelector(".".concat(t.id,"-placeholder")),r=this._formElement.querySelector(".".concat(t.id,"-container")),n=this._formElement.querySelector(".".concat(t.id,"-error"));o!==this._checkboxLabel&&o.classList.add(this._obj.inputErrorTextClass),n!==this._checkboxError&&(n.textContent=e,n.classList.add(this._obj.activeInputErrorClass)),r!==this._checkboxContainer&&r.classList.add(this._obj.inputErrorContainerClass),this._checkbox.classList.add(this._obj.checkboxErrorClass)}},{key:"_hideInputError",value:function(t){var e=this._formElement.querySelector(".".concat(t.id,"-error")),o=this._formElement.querySelector(".".concat(t.id,"-placeholder")),r=this._formElement.querySelector(".".concat(t.id,"-container"));o!==this._checkboxLabel&&o.classList.remove(this._obj.inputErrorTextClass),e!==this._checkboxError&&(e.textContent="",e.classList.remove(this._obj.activeInputErrorClass)),r!==this._checkboxContainer&&r.classList.remove(this._obj.inputErrorContainerClass),this._checkbox.classList.remove(this._obj.checkboxErrorClass)}}])&&S(e.prototype,o),Object.defineProperty(e,"prototype",{writable:!1}),t}();function E(t){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},E(t)}function w(t,e){for(var o=0;o<e.length;o++){var r=e[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,n=function(t,e){if("object"!==E(t)||null===t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var r=o.call(t,"string");if("object"!==E(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===E(n)?n:String(n)),r)}var n}var L=function(){function t(e){var o=e.data,r=e.obj,n=e.selector;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._data=o,this._obj=r,this._selector=n}var e,o;return e=t,(o=[{key:"_getAnswer",value:function(){return _.querySelector(this._obj.answerItem).cloneNode(!0)}},{key:"_createAnswer",value:function(){var t=this;return this._element=this._getAnswer(),this._checkQuestionId(),this._data.forEach((function(e){if(e.id===t._checkQuestionId()){var o=e.answer;t._element.textContent=o}})),this._element}},{key:"_addRemoveItem",value:function(){this._selector.classList.contains(this._obj.listItemState)?(this._selector.querySelector(this._obj.dropDownButton).classList.add(this._obj.dropDownButtonState),this._item=this._createAnswer(),this._selector.append(this._item)):(this._item.remove(),this._selector.querySelector(this._obj.dropDownButton).classList.remove(this._obj.dropDownButtonState))}},{key:"_addRemoveSelector",value:function(){this._selector.classList.toggle(this._obj.listItemState)}},{key:"_checkQuestionId",value:function(){return this._selector.id}},{key:"setEventListeners",value:function(){var t=this;this._selector.addEventListener("click",(function(){t._addRemoveSelector(),t._addRemoveItem()}))}}])&&w(e.prototype,o),Object.defineProperty(e,"prototype",{writable:!1}),t}();function g(t){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},g(t)}function j(t,e){for(var o=0;o<e.length;o++){var r=e[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,n=function(t,e){if("object"!==g(t)||null===t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var r=o.call(t,"string");if("object"!==g(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===g(n)?n:String(n)),r)}var n}var C,x=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._popup=e,this._handleEscClose=this._handleEscClose.bind(this)}var e,o;return e=t,(o=[{key:"openPopup",value:function(){this._popup.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscClose)}},{key:"closePopup",value:function(){this._popup.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscClose)}},{key:"_handleEscClose",value:function(t){"Escape"===t.key&&this.closePopup()}},{key:"setEventListeners",value:function(){var t=this;this._popup.addEventListener("mousedown",(function(e){e.target===t._popup&&t.closePopup(),e.target.classList.contains("popup__close")&&t.closePopup()}))}}])&&j(e.prototype,o),Object.defineProperty(e,"prototype",{writable:!1}),t}();function B(t,e){(null==e||e>t.length)&&(e=t.length);for(var o=0,r=new Array(e);o<e;o++)r[o]=t[o];return r}(C=document.querySelectorAll(".header"),function(t){if(Array.isArray(t))return B(t)}(C)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(C)||function(t,e){if(t){if("string"==typeof t)return B(t,e);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?B(t,e):void 0}}(C)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).forEach((function(t){new i(t,s).eventListener()})),new o(c).timer(),l.forEach((function(t){new L({data:u,obj:a,selector:t}).setEventListeners()})),new k({obj:{inputSelector:".input__field",submitButtonSelector:".form__button",inactiveButtonClass:"button_type_inactive",inputErrorClass:"input__field-error",inputErrorTextClass:"input__text_type_error",inputErrorContainerClass:"input__container_type_error",activeInputErrorClass:"input__field-error_active",checkboxSelector:".form__checkbox-control",checkboxErrorClass:"form__checkbox-control_invalid",checkboxLabelSelector:".form__checkbox-control-placeholder",checkboxContainerSelector:".form__checkbox-control-container",checkboxErrorSelector:".form__checkbox-control-error"},formElement:f}).enableValidation();var P=new x(p);h.classList.contains("button_type_disabled")||f.addEventListener("submit",(function(t){t.preventDefault(),b.forEach((function(t){console.log(t.value)})),P.openPopup(),b.forEach((function(t){t.value="",y.checked=!1}))})),m.addEventListener("click",(function(){P.closePopup()})),P.setEventListeners()})();